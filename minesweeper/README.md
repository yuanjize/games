# 经典扫雷游戏

一个使用纯原生 JavaScript、HTML 和 CSS 实现的经典扫雷游戏，完全响应式设计，支持鼠标和触摸设备。

## 功能特性

✅ **完整游戏功能**
- 网格棋盘，包含地雷和安全格子
- 左键点击翻开格子
- 右键点击标记地雷（插旗）
- 数字显示周围地雷数量（1-8不同颜色）
- 游戏胜利：所有安全格子翻开，所有地雷标记正确
- 游戏失败：点击到地雷

✅ **高级功能**
- 第一次点击永远不会是地雷
- 自动展开：点击到数字0时自动展开周围安全区域
- 双击数字：如果周围已标记地雷数量等于数字，自动翻开周围未翻开格子
- 游戏状态实时显示：进行中、胜利、失败

✅ **游戏界面**
- 计时器：记录游戏时间
- 地雷计数器：显示剩余地雷数量
- 难度选择：初级（9×9，10雷）、中级（16×16，40雷）、高级（16×30，99雷）
- 重新开始按钮（笑脸按钮）

✅ **跨平台支持**
- 鼠标：左键点击、右键标记
- 触摸设备：点击翻开、长按500ms标记
- 完全响应式设计，适配手机、平板和桌面

✅ **视觉设计**
- 经典的扫雷格子样式
- 现代UI设计，美观易用
- 数字颜色编码（1-8不同颜色）
- 地雷和旗帜图标
- 动画效果：格子翻开、地雷爆炸、游戏状态变化

✅ **音频效果**
- 点击声音
- 旗帜标记声音
- 地雷爆炸声音
- 游戏胜利音效
- 使用Web Audio API实现

## 使用方法

### 1. 直接打开
将游戏文件复制到你的服务器或本地环境，直接打开 `index.html` 即可开始游戏。

### 2. 开发模式
如果你想在本地测试开发：
```bash
cd /path/to/minesweeper
python3 -m http.server 8000
```
然后在浏览器中访问 `http://localhost:8000`

## 游戏操作说明

### 桌面电脑（鼠标）
- **左键点击**：翻开格子
- **右键点击**：标记/取消标记旗帜
- **双击数字**：快速翻开周围格子（当标记数量正确时）

### 移动设备（触摸屏）
- **点击**：翻开格子
- **长按500ms**：标记/取消标记旗帜
- **双击数字**：快速翻开周围格子（当标记数量正确时）

### 游戏规则
1. 目标是翻开所有安全的格子，同时标记所有地雷
2. 数字表示周围8个格子中的地雷数量
3. 标记旗帜表示你认为该位置有地雷
4. 如果翻开了地雷，游戏立即结束
5. 如果所有安全格子都被翻开且所有地雷都被正确标记，游戏胜利

## 技术架构

### 文件结构
```
minesweeper/
├── index.html          # 游戏主页面
├── style.css           # 样式文件
├── game.js             # 游戏主逻辑
├── test-game.js        # 测试脚本
└── README.md           # 说明文档
```

### 技术栈
- **纯原生JavaScript**：不使用任何外部库或框架
- **HTML5**：语义化HTML结构
- **CSS3**：Flexbox、Grid、CSS变量、动画效果
- **Web Audio API**：游戏音效
- **响应式设计**：媒体查询、视口单位

### 核心算法
1. **地雷生成**：第一次点击后随机生成，确保第一次点击位置不是地雷
2. **相邻地雷计数**：遍历周围8个格子统计地雷数量
3. **自动展开**：使用BFS（广度优先搜索）算法递归展开安全区域
4. **游戏状态检查**：实时检查胜利和失败条件

## 浏览器兼容性

- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 11+
- ✅ Edge 79+
- ✅ iOS Safari 11+
- ✅ Android Chrome 67+

## 开发者信息

这个游戏展示了如何使用纯原生技术实现一个完整的、功能丰富的网页游戏，包括：

1. **游戏循环管理**
2. **复杂状态处理**
3. **用户输入处理（鼠标+触摸）**
4. **音频系统集成**
5. **响应式UI设计**

所有代码都有清晰的注释和模块化结构，适合学习和参考。

## 许可证

本项目为开源项目，仅供学习和参考使用。

---

开始游戏：[打开游戏](index.html)

祝你玩得开心！💣🚩✨